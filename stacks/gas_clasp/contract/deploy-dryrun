#!/usr/bin/env bash
set -euo pipefail
cd "$(git rev-parse --show-toplevel)"

echo "=== Deploy Dry-run (clasp push --dry-run is not available) ==="
echo "Building project..."
npm run build

echo ""
echo "Files to be pushed:"
if [ -d "dist" ]; then
  find dist -type f -name "*.js" -o -name "*.json" | head -20
else
  echo "No dist directory found. Run 'npm run build' first."
  exit 1
fi

echo ""
echo "To deploy, run: npm run push"
