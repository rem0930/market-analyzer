stack_id: "python_ruff_pytest"
label: "Python (pyproject) + ruff + pytest"
language: "python"
package_manager: "pip/pyproject"

devcontainer:
  base_image: "mcr.microsoft.com/devcontainers/python:3.12"

archetypes:
  - library
  - api
  - worker

contract_commands:
  required:
    - format
    - lint
    - test
    - build
  optional:
    - typecheck
    - e2e
    - migrate
    - deploy-dryrun
    - dev
    - dev:stop
    - dev:logs

scaffold_paths:
  - pyproject.toml
  - docker-compose.yaml
  - Dockerfile.dev
  - .vscode/launch.json
  - .vscode/tasks.json
  - src/app/__init__.py
  - src/app/main.py
  - src/app/server.py
  - tests/__init__.py
  - tests/test_main.py
